<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zonego.tw</id>
    <title>ç­†è¨˜ZONE â€¢ Posts by &#34;é–‹ç™¼ç›¸é—œ&#34; category</title>
    <link href="https://zonego.tw" />
    <updated>2022-01-06T12:15:54.000Z</updated>
    <category term="Hexo" />
    <category term="Blog" />
    <category term="æœå°‹å¼•æ“" />
    <category term="Self-Hosting" />
    <category term="ç¶²è·¯" />
    <category term="Windows" />
    <category term="Linux" />
    <category term="Mac" />
    <category term="Apple Silicon" />
    <category term="VM è™›æ“¬æ©Ÿ" />
    <category term="DNS" />
    <category term="Google" />
    <category term="å»£å‘Š" />
    <category term="ç¶²ç«™æ¶è¨­" />
    <category term="Cloudflare" />
    <category term="éœæ…‹ç¶²ç«™" />
    <category term="Git" />
    <category term="è³‡å®‰" />
    <category term="ç¶²è·¯è³‡æº" />
    <category term="CI/CD" />
    <category term="Drone" />
    <category term="Gitea" />
    <category term="GMail" />
    <category term="å¥—ä»¶ç®¡ç†" />
    <category term="å­—å‹" />
    <category term="ç’°å¢ƒè®Šæ•¸" />
    <category term="Ubuntu" />
    <category term="æ¡Œå¸ƒ" />
    <category term="DIY" />
    <category term="Wiki JS" />
    <category term="Keyckoak" />
    <category term="èº«åˆ†èªè­‰" />
    <entry>
        <id>https://zonego.tw/2022/01/06/drone-git-push/</id>
        <title>drone-git-push è¸©é›·å¿ƒå¾—</title>
        <link rel="alternate" href="https://zonego.tw/2022/01/06/drone-git-push/"/>
        <content type="html">&lt;p&gt;&lt;a href=&#34;https://www.drone.io/&#34;&gt;Drone CI&lt;/a&gt; æ˜¯ä¸€å€‹å¯ä»¥è‡ªè¡Œçš„ CI (Continuous Integration) è»Ÿé«”&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ CI çš„ç”¨æ„å°±æ˜¯ç‚ºäº†ï¼Œèƒ½åœ¨å¯«å®Œç¨‹å¼æ™‚ï¼Œè‡ªå‹•æ¸¬è©¦ã€ç·¨è­¯èˆ‡ç™¼ä½ˆç¨‹å¼ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;é—œæ–¼æ€éº¼æ¶è¨­æ”¹å¤©å†å¯«ä¸€ç¯‡æ•™å­¸ã€‚ &lt;del&gt;Googleä¸€ä¸‹æ‡‰è©²å°±å¾ˆå¤šæ•™å­¸äº†&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&#34;drone-git-push&#34;&gt;&lt;a href=&#34;#drone-git-push&#34; class=&#34;headerlink&#34; title=&#34;drone-git-push&#34;&gt;&lt;/a&gt;drone-git-push&lt;/h2&gt;&lt;p&gt;å›ä¾†æœ¬ç¯‡ä¸»é¡Œ&lt;/p&gt;
&lt;p&gt;é€™æ¬¡æˆ‘çš„éœ€æ±‚æ˜¯åœ¨ Drone çš„æµç¨‹å…§ï¼Œæ¸¬è©¦æˆ–ç·¨è­¯å®Œç¨‹å¼å¾Œä»¥ git æ¨é€åˆ°ä¸åŒçš„å„²è—åº«&lt;/p&gt;
&lt;p&gt;å…¶å¯¦å°±æ˜¯è¦ç”¢ç”Ÿç¶²ç«™æª”æ¡ˆå¾Œï¼Œæ¨é€åˆ° GitHub æ–¹ä¾¿ç”¨ GitHub Page æˆ–æ˜¯ Cloudflare Page&lt;/p&gt;
&lt;p&gt;åœ¨ Drone CI ä¸­å¯ä»¥ç”¨ &lt;a href=&#34;http://plugins.drone.io/appleboy/drone-git-push/&#34;&gt;drone-git-push&lt;/a&gt; åšåˆ°&lt;/p&gt;
&lt;p&gt;é€™æ¬¡é‡åˆ°çš„å•é¡Œæœ‰2å€‹ &lt;del&gt;å®³æˆ‘ç‚ºäº†æ‰¾å•é¡Œå¤šèŠ±å¾ˆå¤šæ™‚é–“&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&#34;å„²å­˜åº«è¾¨è­˜å¤±æ•—&#34;&gt;&lt;a href=&#34;#å„²å­˜åº«è¾¨è­˜å¤±æ•—&#34; class=&#34;headerlink&#34; title=&#34;å„²å­˜åº«è¾¨è­˜å¤±æ•—&#34;&gt;&lt;/a&gt;å„²å­˜åº«è¾¨è­˜å¤±æ•—&lt;/h2&gt;&lt;p&gt;éŒ¯èª¤è¨Šæ¯:&lt;/p&gt;
&lt;figure class=&#34;highlight node-repl&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs node-repl&#34;&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;...&lt;/span&gt;&lt;br&gt;parse \&amp;quot;git@github.com:user/repo.git\&amp;quot;: first path segment in URL cannot contain colon&amp;quot;&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç…§åŸæœ¬æ–‡ä»¶å¯«çš„ &lt;code&gt;.drone.yml&lt;/code&gt; å¤§æ¦‚æ˜¯é•·é€™æ¨£&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs yaml&#34;&gt;&lt;span class=&#34;hljs-bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;deploy&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;git&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;appleboy/drone-git-push&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;settings:&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;branch:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;main&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;remote:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;git@github.com:user/repo.git&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;force:&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;commit:&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åƒè€ƒ&lt;a href=&#34;https://github.com/appleboy/drone-git-push/issues/40&#34;&gt;GitHubè¨è«–å€&lt;/a&gt;çš„è§£æ±ºæ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç·Šæ€¥ä¿®è£œçš„ image&lt;/li&gt;
&lt;li&gt;remote æ”¹ç”¨å­—ä¸²&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs yaml&#34;&gt;&lt;span class=&#34;hljs-bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;deploy&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;git&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;appleboy/drone-git-push:0.2.0-linux-amd64&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;settings:&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;branch:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;main&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;remote:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;git@github.com:user/repo.git&amp;quot;&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;force:&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;commit:&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;SSH-Key-è®€å–å¤±æ•—&#34;&gt;&lt;a href=&#34;#SSH-Key-è®€å–å¤±æ•—&#34; class=&#34;headerlink&#34; title=&#34;SSH Key è®€å–å¤±æ•—&#34;&gt;&lt;/a&gt;SSH Key è®€å–å¤±æ•—&lt;/h2&gt;&lt;p&gt;ç”±æ–¼è³‡å®‰çš„é—œä¿‚ï¼Œ SSH KEY ä¸å¯ä»¥è·Ÿè‘—ç¨‹å¼ç¢¼æ¨é€åˆ°å„²å­˜åº«ï¼Œæ›´ä¸å¯èƒ½æ”¾æ˜ç¢¼åœ¨è¨­å®šæª”ä¸­&lt;/p&gt;
&lt;p&gt;åœ¨ Drone CI è¦æ”¹ç”¨ secret çš„åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.drone.yml&lt;/code&gt; å¤§æ¦‚é•·é€™æ¨£&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs yaml&#34;&gt;&lt;span class=&#34;hljs-bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;deploy&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;git&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;appleboy/drone-git-push:0.2.0-linux-amd64&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;settings:&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;branch:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;main&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attr&#34;&gt;ssh_key:&lt;/span&gt;&lt;br&gt;      &lt;span class=&#34;hljs-attr&#34;&gt;from_secret:&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;githubkey&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦å¤–åœ¨ Drone CI çš„ WebUI ä¸Šæ·»åŠ  Secret&lt;/p&gt;
&lt;p&gt;å°‡ private key çš„å…§æ–‡è²¼é€²å»&lt;/p&gt;
&lt;p&gt;&lt;img onerror=&#34;imgOnError(this);&#34; data-fancybox=&#34;gallery&#34; src=&#34;/images/content/DroneCI-secret.png&#34; alt=&#34;secret&#34; data-caption=&#34;secret&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶å¾Œå°±ç¢°åˆ°å•é¡Œäº†&lt;/p&gt;
&lt;p&gt;éŒ¯èª¤è¨Šæ¯:&lt;/p&gt;
&lt;figure class=&#34;highlight node-repl&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs node-repl&#34;&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;...&lt;/span&gt;&lt;br&gt;Load key &amp;quot;/root/.ssh/id_rsa&amp;quot;: invalid format&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åƒè€ƒ&lt;a href=&#34;https://github.com/appleboy/drone-git-push/issues/37&#34;&gt;GitHubè¨è«–å€&lt;/a&gt;çš„è§£æ±ºæ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¢ç”Ÿçš„ SSH key éœ€è¦æ”¹ç”¨ PEM&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;ssh-keygen -t rsa -b 4096 -C &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;your_email@example.com&amp;quot;&lt;/span&gt; -m PEM&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ›å®Œ KEY ç”šéº¼å•é¡Œéƒ½æ²’äº†ğŸ‰&lt;/p&gt;
</content>
        <category term="Git" />
        <category term="CI/CD" />
        <category term="Drone" />
        <updated>2022-01-06T12:15:54.000Z</updated>
    </entry>
</feed>
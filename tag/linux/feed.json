{
    "version": "https://jsonfeed.org/version/1",
    "title": "筆記ZONE • All posts by \"linux\" tag",
    "description": "",
    "home_page_url": "https://zonego.tw",
    "items": [
        {
            "id": "https://zonego.tw/2023/02/21/adguardhome/",
            "url": "https://zonego.tw/2023/02/21/adguardhome/",
            "title": "AdGuard Home 擋廣告工具",
            "date_published": "2023-02-21T11:42:28.000Z",
            "content_html": "<p>一般檔廣告大家都會使用瀏覽器插，例如 AD Bolck。這邊推薦可以從 DNS 下手</p>\n<span id=\"more\"></span>\n\n<h2 id=\"DNS-檔廣告原理\"><a href=\"#DNS-檔廣告原理\" class=\"headerlink\" title=\"DNS 檔廣告原理\"></a>DNS 檔廣告原理</h2><h3 id=\"DNS原理簡介\"><a href=\"#DNS原理簡介\" class=\"headerlink\" title=\"DNS原理簡介\"></a>DNS原理簡介</h3><p>一般瀏覽網站時，我們常會使用網域名稱 domain，代替只有數字的 IP 作為連線地址</p>\n<p><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/DNS.png\" alt=\"DNS\" data-caption=\"DNS\" loading=\"lazy\"><br>舉個例子🌰，要去 google 首頁 <a href=\"https://www.google.com/\">https://www.google.com</a> ，其中 <a href=\"http://www.google.com/\">www.google.com</a> 就是網域名稱<br>瀏覽器會先去 DNS 伺服器用網域名稱查出 Google 的伺服器 IP<br>知道 IP 後才能連到 Google 的伺服器請求資料</p>\n<p>在這中間，Google 也會順便將要顯示的廣告網址一起送回來<br>瀏覽器再照之前的流程，去廣告商的伺服器去抓廣告回來顯示</p>\n<p>想知道更多 DNS 詳細機制，可以參考 <a href=\"https://www.cloudflare.com/zh-tw/learning/dns/what-is-dns/\">Coudflare 寫的說明</a></p>\n<h3 id=\"DNS沉洞（DNS-sinkhole）\"><a href=\"#DNS沉洞（DNS-sinkhole）\" class=\"headerlink\" title=\"DNS沉洞（DNS sinkhole）\"></a>DNS沉洞（DNS sinkhole）</h3><p>看完原理後，反過來說，只要 DNS 伺服器不能正常把網域名稱換成 IP，網路就像斷了，只剩直接給 IP 的方式還能連線</p>\n<p>所以只要在 DNS 伺服器動手腳把廣告的網址設定成錯誤的IP(例如：127.0.0.1)，廣告就無法正常顯示</p>\n<p>這種作法就叫做 <code>DNS沉洞</code>（DNS sinkhole）</p>\n<p>有幾套可以自己架的 DNS 伺服器軟體可以達到這種效果，如 PI-Hole、 AdGuard Home<br>這邊主要介紹 AdGuard Home</p>\n<p><del>PI-Hole 改天在寫</del></p>\n<h2 id=\"AdGuard-Home\"><a href=\"#AdGuard-Home\" class=\"headerlink\" title=\"AdGuard Home\"></a>AdGuard Home</h2><p><a href=\"https://adguard.com/zh_tw/adguard-home/overview.html\">AdGuard Home 官方網站</a></p>\n<p><a href=\"https://github.com/AdguardTeam/AdGuardHome\">AdGuard Home GitHub repo</a></p>\n<p><img src=\"https://camo.githubusercontent.com/c6223645832b66d312f31eecbf833e23f95e363198d83de29438db55d01c8eca/68747470733a2f2f63646e2e6164746964792e6f72672f7075626c69632f416467756172642f436f6d6d6f6e2f616467756172645f686f6d652e676966\"></p>\n<p>附上 AdGuard Home 提供的功能比對表…</p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>AdGuard Home</th>\n<th>Pi-Hole</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>阻擋廣告與追蹤器</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>自訂阻擋清單</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>內建 DHCP server 功能</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>HTTPS 管理介面</td>\n<td>✅</td>\n<td>❌ 需手動設定 lighttpd</td>\n</tr>\n<tr>\n<td>上游 DNS 伺服器加密<br>(DNS-over-HTTPS, DNS-over-TLS, DNSCrypt)</td>\n<td>✅</td>\n<td>❌ (需安裝額外插件)</td>\n</tr>\n<tr>\n<td>跨平台支援</td>\n<td>✅</td>\n<td>❌ (需透過 Docker)</td>\n</tr>\n<tr>\n<td>支援加密<br>DNS-over-HTTPS or DNS-over-TLS server</td>\n<td>✅</td>\n<td>❌ (需安裝額外插件)</td>\n</tr>\n<tr>\n<td>阻擋惡意網域</td>\n<td>✅</td>\n<td>❌ (需要使用另外的阻擋清單)</td>\n</tr>\n<tr>\n<td>家長管控 (阻擋成人網站)</td>\n<td>✅</td>\n<td>❌ (需自行設定阻擋清單)</td>\n</tr>\n<tr>\n<td>強制搜尋引擎啟用安全搜尋</td>\n<td>✅</td>\n<td>❌</td>\n</tr>\n<tr>\n<td>Per-client (device) configuration</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>存取設定 (設定可用 AGH DNS 的名單)</td>\n<td>✅</td>\n<td>❌</td>\n</tr>\n<tr>\n<td>[不需 root 權限][wiki-noroot]執行</td>\n<td>✅</td>\n<td>❌</td>\n</tr>\n</tbody></table>\n<p>基本上我們只用擋廣告的功能，AdGuardHome 跟 Pi-Hole 選順手好用的就好<br>雖說 AdGuard Home 有原生跨平台支援，不過真的要用也是用 Docker 去不同平台執行比較方便</p>\n<h2 id=\"安裝-AdGuard-Home\"><a href=\"#安裝-AdGuard-Home\" class=\"headerlink\" title=\"安裝 AdGuard Home\"></a>安裝 AdGuard Home</h2><h3 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h3><p>官方有提供 Linux 系統的自動安裝腳本</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><code class=\"hljs awk\"><span class=\"hljs-comment\"># 可以用 wget, curl 等工具下載腳本</span><br>wget --no-verbose -O - https:<span class=\"hljs-regexp\">//</span>raw.githubusercontent.com<span class=\"hljs-regexp\">/AdguardTeam/</span>AdGuardHome<span class=\"hljs-regexp\">/master/</span>scripts/install.sh | sh -s -- -v<br></code></pre></td></tr></table></figure>\n<p>腳本參數：</p>\n<ul>\n<li><code>-c &lt;channel&gt;</code> 使用特定的安裝渠道，預設是從 release 安裝，可用 <code>development</code> <code>edge</code> <code>beta</code> <code>release</code></li>\n<li><code>-r</code> 重新安裝 AdGuard Home (不可與 <code>-u</code> 一起用)</li>\n<li><code>-u</code> 移除 AdGuard Home (不可與 <code>-r</code> 一起用)</li>\n<li><code>-v</code> 查看更多安裝時訊息</li>\n</ul>\n<p>或是手動下載、安裝<br>到 <a href=\"https://github.com/AdguardTeam/AdGuardHome/releases\">GitHub Release</a> 下載對應 OS 的安裝檔<br>例如安裝 Linux x64 版本</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">tar zxvf AdGuardHome_linux_amd64.tar.gz<br><br>./AdGuardHome -s install<br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>建議使用剛裝好系統的 VM 來裝 AdGuard Home，方便備份或是避免 port 衝突</p>\n</blockquote>\n<h3 id=\"Windows\"><a href=\"#Windows\" class=\"headerlink\" title=\"Windows\"></a>Windows</h3><p>跟 Linux 手動安裝步驟相同，到 <a href=\"https://github.com/AdguardTeam/AdGuardHome/releases\">GitHub Release</a> 下載 windows 版本後執行</p>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><p><a href=\"https://hub.docker.com/r/adguard/adguardhome\">AdGuard Home Docker Hub</a></p>\n<p>docker 指令：</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><code class=\"hljs awk\">docker run --name adguardhome\\<br>    --restart unless-stopped\\<br>    -v <span class=\"hljs-regexp\">/my/</span>own<span class=\"hljs-regexp\">/workdir:/</span>opt<span class=\"hljs-regexp\">/adguardhome/</span>work\\<br>    -v <span class=\"hljs-regexp\">/my/</span>own<span class=\"hljs-regexp\">/confdir:/</span>opt<span class=\"hljs-regexp\">/adguardhome/</span>conf\\<br>    -p <span class=\"hljs-number\">53</span>:<span class=\"hljs-number\">53</span><span class=\"hljs-regexp\">/tcp -p 53:53/u</span>dp\\<br>    -p <span class=\"hljs-number\">67</span>:<span class=\"hljs-number\">67</span><span class=\"hljs-regexp\">/udp -p 68:68/u</span>dp\\<br>    -p <span class=\"hljs-number\">80</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-regexp\">/tcp -p 443:443/</span>tcp -p <span class=\"hljs-number\">443</span>:<span class=\"hljs-number\">443</span><span class=\"hljs-regexp\">/udp -p 3000:3000/</span>tcp\\<br>    -p <span class=\"hljs-number\">853</span>:<span class=\"hljs-number\">853</span>/tcp\\<br>    -p <span class=\"hljs-number\">784</span>:<span class=\"hljs-number\">784</span><span class=\"hljs-regexp\">/udp -p 853:853/u</span>dp -p <span class=\"hljs-number\">8853</span>:<span class=\"hljs-number\">8853</span>/udp\\<br>    -p <span class=\"hljs-number\">5443</span>:<span class=\"hljs-number\">5443</span><span class=\"hljs-regexp\">/tcp -p 5443:5443/u</span>dp\\<br>    -d adguard/adguardhome<br></code></pre></td></tr></table></figure>\n\n<p>其中的 Port 設定</p>\n<ul>\n<li><code>-p 53:53/tcp -p 53:53/udp</code>: 預設 DNS 使用 port</li>\n<li><code>-p 67:67/udp -p 68:68/tcp -p 68:68/udp</code>: DHCP 使用 port (如不使用 DHCP 可以跳過)</li>\n<li><code>-p 3000:3000/tcp -p 443:443/tcp</code>: AdGuard Home 的管理介面 (如不需設定 HTTPS 可以不用 443 port)</li>\n<li><code>-p 80:80/tcp -p 443:443/tcp -p 443:443/udp</code>: DNS-over-HTTPS 使用 port</li>\n<li><code>-p 853:853/tcp</code>: DNS-over-TLS 使用 port</li>\n<li><code>-p 784:784/udp -p 853:853/udp -p 8853:8853/udp</code>: DNS-over-QUIC 使用 port (只需要設定其中一個或兩個，不需要全都用)</li>\n<li><code>-p 5443:5443/tcp -p 5443:5443/udp</code>: DNSCrypt 使用 port.</li>\n</ul>\n<p>如果要使用 DHCP server 的功能，建議將讓容器使用主機網路 (需注意 port 衝突)</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><code class=\"hljs awk\">docker run --name adguardhome\\<br>    --restart unless-stopped\\<br>    -v <span class=\"hljs-regexp\">/my/</span>own<span class=\"hljs-regexp\">/workdir:/</span>opt<span class=\"hljs-regexp\">/adguardhome/</span>work\\<br>    ...<br>    --network host<br>    -d adguard/adguardhome<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"設定\"><a href=\"#設定\" class=\"headerlink\" title=\"設定\"></a>設定</h2><blockquote>\n<p>這邊我是在自己的電腦上用 docker 展示，連線會用 localhost 去連<br>實際使用建議獨立裝在其他不常關的電腦或樹梅派，連線就使用 IP 連</p>\n</blockquote>\n<h3 id=\"初次設定\"><a href=\"#初次設定\" class=\"headerlink\" title=\"初次設定\"></a>初次設定</h3><p><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init1.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"></p>\n<h4 id=\"網路設定\"><a href=\"#網路設定\" class=\"headerlink\" title=\"網路設定\"></a>網路設定</h4><p>接下來設定監聽的網卡(透過哪張網卡能存取)，用 Docker 執行建議可以用所有介面<br>管理員的監聽介面如果在 docker 沒有使用 80，記得設定成 3000，避免設定完就連不到<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init2.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"><br>DNS 伺服器監聽介面同上，建議保留預設的 53 Port<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init3.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"></p>\n<h5 id=\"管理帳號設定\"><a href=\"#管理帳號設定\" class=\"headerlink\" title=\"管理帳號設定\"></a>管理帳號設定</h5><p>設定管理員帳號密碼，建議不要用 <code>root</code>, <code>admin</code>, <code>administor</code> 等常見的管理帳號<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init4.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"></p>\n<h4 id=\"用戶端設定\"><a href=\"#用戶端設定\" class=\"headerlink\" title=\"用戶端設定\"></a>用戶端設定</h4><p>初次設定完成，這邊可以看一下不同種類客戶端該怎麼設定使用這個 DNS 伺服器<br>基本上只要將網路設定裡的 DNS 伺服器，改成這邊監聽的網卡的IP，就可以用 Adguard 過濾網站<br>路由器也要套用的話，是去修改路由器的 DHCP 設定，讓子網段自動分配的 DNS 都使用我們架的 Adguard IP<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init5.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"><br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init6.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"></p>\n<h5 id=\"初次設定完成🎉\"><a href=\"#初次設定完成🎉\" class=\"headerlink\" title=\"初次設定完成🎉\"></a>初次設定完成🎉</h5><p><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_init7.png\" alt=\"adguard init\" data-caption=\"adguard init\" loading=\"lazy\"></p>\n<p>接著可以用設定好的管理員帳號登入<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_login.png\" alt=\"adguard login\" data-caption=\"adguard login\" loading=\"lazy\"></p>\n<h3 id=\"設定上游-DNS-伺服器\"><a href=\"#設定上游-DNS-伺服器\" class=\"headerlink\" title=\"設定上游 DNS 伺服器\"></a>設定上游 DNS 伺服器</h3><p>在 Adguard Home 中並不會紀錄設定之外的網域及IP的對應<br>其他網域就需要去其他的 DNS 伺服器(上游 DNS 伺服器)查詢<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_upstreamDNS.png\" alt=\"adguard upstream DNS\" data-caption=\"adguard upstream DNS\" loading=\"lazy\"></p>\n<p>Adguard Home 整理了幾個常用的 DNS 伺服器 <a href=\"https://adguard-dns.io/kb/zh-CN/general/dns-providers/\">https://adguard-dns.io/kb/zh-CN/general/dns-providers/</a><br>這邊推薦可以用 Google DNS 跟 Cloudflare DNS</p>\n<h4 id=\"Google-DNS\"><a href=\"#Google-DNS\" class=\"headerlink\" title=\"Google DNS\"></a>Google DNS</h4><table>\n<thead>\n<tr>\n<th>協定</th>\n<th>地址</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>DNS, IPv4</td>\n<td>8.8.8.8 和 8.8.4.4</td>\n</tr>\n<tr>\n<td>DNS, IPv6</td>\n<td>2001:4860:4860::8888 和 2001:4860:4860::8844</td>\n</tr>\n<tr>\n<td>DNS-over-HTTPS</td>\n<td><a href=\"https://dns.google/dns-query\">https://dns.google/dns-query</a></td>\n</tr>\n<tr>\n<td>DNS-over-TLS</td>\n<td>tls:&#x2F;&#x2F;dns.google</td>\n</tr>\n</tbody></table>\n<h4 id=\"Cloudflare-DNS\"><a href=\"#Cloudflare-DNS\" class=\"headerlink\" title=\"Cloudflare DNS\"></a>Cloudflare DNS</h4><table>\n<thead>\n<tr>\n<th>協定</th>\n<th>地址</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>DNS, IPv4</td>\n<td>1.1.1.1 和 1.0.0.1</td>\n</tr>\n<tr>\n<td>DNS, IPv6</td>\n<td>2606:4700:4700::1111 和 2606:4700:4700::1001</td>\n</tr>\n<tr>\n<td>DNS-over-HTTPS IPv4</td>\n<td><a href=\"https://dns.cloudflare.com/dns-query\">https://dns.cloudflare.com/dns-query</a></td>\n</tr>\n<tr>\n<td>DNS-over-HTTPS IPv6</td>\n<td><a href=\"https://dns.cloudflare.com/dns-query\">https://dns.cloudflare.com/dns-query</a></td>\n</tr>\n<tr>\n<td>DNS-over-TLS</td>\n<td>tls:&#x2F;&#x2F;1dot1dot1dot1.cloudflare-dns.com</td>\n</tr>\n</tbody></table>\n<h2 id=\"過濾器設定\"><a href=\"#過濾器設定\" class=\"headerlink\" title=\"過濾器設定\"></a>過濾器設定</h2><h3 id=\"過濾黑名單\"><a href=\"#過濾黑名單\" class=\"headerlink\" title=\"過濾黑名單\"></a>過濾黑名單</h3><p><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_blocklist.png\" alt=\"adguard blocklist\" data-caption=\"adguard blocklist\" loading=\"lazy\"></p>\n<h4 id=\"預設黑名單\"><a href=\"#預設黑名單\" class=\"headerlink\" title=\"預設黑名單\"></a>預設黑名單</h4><p>Adguard Home 預設使用 Adguard 的過濾黑名單<br>新增黑名單也很方便<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_blocklist_new.png\" alt=\"adguard blocklist new\" data-caption=\"adguard blocklist new\" loading=\"lazy\"><br>把想套用的黑名單加進去啟用<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_blocklist_new2.png\" alt=\"adguard blocklist new\" data-caption=\"adguard blocklist new\" loading=\"lazy\"></p>\n<h4 id=\"第三方黑名單\"><a href=\"#第三方黑名單\" class=\"headerlink\" title=\"第三方黑名單\"></a>第三方黑名單</h4><p>要使用第三方黑名單只要有網址也可以匯入<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_blocklist_new3.png\" alt=\"adguard blocklist new\" data-caption=\"adguard blocklist new\" loading=\"lazy\"><br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_blocklist_new4.png\" alt=\"adguard blocklist new\" data-caption=\"adguard blocklist new\" loading=\"lazy\"></p>\n<p>這邊介紹一款專為臺灣人設計的廣告阻擋規則 <a href=\"https://github.com/FutaGuard/LowTechFilter\">LowTechFilter</a><br>提供阻擋台灣常見的簡訊詐騙、釣魚網站和農場文</p>\n<ul>\n<li>簡訊詐騙、釣魚網站 <a href=\"https://filter.futa.gg/hosts.txt\">https://filter.futa.gg/hosts.txt</a>  </li>\n<li>農場文 <a href=\"https://filter.futa.gg/nofarm_hosts.txt\">https://filter.futa.gg/nofarm_hosts.txt</a></li>\n</ul>\n<h3 id=\"手動過濾規則\"><a href=\"#手動過濾規則\" class=\"headerlink\" title=\"手動過濾規則\"></a>手動過濾規則</h3><p>可以從主頁到 DNS 查詢紀錄裡去增加封鎖名單，不過缺點是之前要先查詢過</p>\n<blockquote>\n<p>還沒有用戶端用這個 DNS 伺服器之前，紀錄會是空的<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_dashboard.png\" alt=\"adguard dashboard\" data-caption=\"adguard dashboard\" loading=\"lazy\"><br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_record.png\" alt=\"adguard record\" data-caption=\"adguard record\" loading=\"lazy\"></p>\n</blockquote>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"家長管控\"><a href=\"#家長管控\" class=\"headerlink\" title=\"家長管控\"></a>家長管控</h3><p><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/adguard_ad.png\" alt=\"adguard blocklist new\" data-caption=\"adguard blocklist new\" loading=\"lazy\"></p>\n",
            "tags": [
                "Self-Hosting",
                "Windows",
                "Linux",
                "DNS"
            ]
        },
        {
            "id": "https://zonego.tw/2022/11/29/linux-path/",
            "url": "https://zonego.tw/2022/11/29/linux-path/",
            "title": "linux 環境變數及 Path 設定",
            "date_published": "2022-11-29T12:02:04.000Z",
            "content_html": "<h2 id=\"Linux-環境變數種類\"><a href=\"#Linux-環境變數種類\" class=\"headerlink\" title=\"Linux 環境變數種類\"></a>Linux 環境變數種類</h2><ol>\n<li>永久的：需要修改配置檔案，變數永久生效。</li>\n<li>臨時的：使用export命令宣告即可，變數在關閉shell或關機時失效。</li>\n</ol>\n<span id=\"more\"></span>\n\n<p>Mac 跟 Linux 都是由 Unix 發展的作業系統，在部分操作邏輯都相同，包含環境變數。</p>\n<h2 id=\"看目前的環境變數\"><a href=\"#看目前的環境變數\" class=\"headerlink\" title=\"看目前的環境變數\"></a>看目前的環境變數</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 使用 env 指令</span><br><span class=\"hljs-built_in\">env</span><br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">XXXX@MacBook-Pro blog % <span class=\"hljs-built_in\">env</span><br>USER=XXXX<br>SECURITYSESSIONID=186ad<br>COMMAND_MODE=unix2003<br>HOME=/Users/XXXXXX<br>SHELL=/bin/zsh<br>...<br></code></pre></td></tr></table></figure>\n\n<p>如果已知環境變數的名稱，可以使用 echo 查看</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 查看環境變數 SHELL</span><br>XXXX@MacBook-Pro blog % <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-variable\">$SHELL</span><br>/bin/zsh<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"設定環境變數\"><a href=\"#設定環境變數\" class=\"headerlink\" title=\"設定環境變數\"></a>設定環境變數</h2><h3 id=\"臨時性修改，重開機後就必須再做一次\"><a href=\"#臨時性修改，重開機後就必須再做一次\" class=\"headerlink\" title=\"臨時性修改，重開機後就必須再做一次\"></a>臨時性修改，重開機後就必須再做一次</h3><p>用 export 指令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 設定 PATH 變數為例</span><br><span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$PATH</span>&quot;</span>:/home/bin<br><span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-variable\">$&#123;PATH&#125;</span>:/home/bin<br></code></pre></td></tr></table></figure>\n<p>輸入之後可以使用export指令來查看環境變數是否有輸入進去。</p>\n<h3 id=\"永久性修改，需重開機之後才會有作用\"><a href=\"#永久性修改，需重開機之後才會有作用\" class=\"headerlink\" title=\"永久性修改，需重開機之後才會有作用\"></a>永久性修改，需重開機之後才會有作用</h3><h4 id=\"修改-profile\"><a href=\"#修改-profile\" class=\"headerlink\" title=\"修改 profile\"></a>修改 profile</h4><p>profile的路徑是在 “&#x2F;etc&#x2F;profile”，打開後在裡面加入</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$PATH</span>&quot;</span>:/home/bin<br><span class=\"hljs-comment\"># 或是</span><br><span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-variable\">$&#123;PATH&#125;</span>:/home/bin<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"修改-bashrc\"><a href=\"#修改-bashrc\" class=\"headerlink\" title=\"修改.bashrc\"></a>修改.bashrc</h4><p>.bashrc的路徑是在”&#x2F;home&#x2F;danny&#x2F;.bashrc”，在檔案最後面加入</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><code class=\"hljs routeros\"><span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">PATH</span>=<span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$PATH</span>&quot;</span>:/home/bin<br><span class=\"hljs-comment\"># 或是</span><br><span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">PATH</span>=<span class=\"hljs-variable\">$&#123;PATH&#125;</span>:/home/bin<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"參考來源\"><a href=\"#參考來源\" class=\"headerlink\" title=\"參考來源\"></a>參考來源</h2><ul>\n<li><a href=\"https://dotblogs.com.tw/grayyin/2019/06/25/142934\">阿輝的零碎筆記</a></li>\n<li><a href=\"https://iter01.com/567129.html\">Linux環境變數的設定、檢視、刪除</a></li>\n</ul>\n",
            "tags": [
                "Linux",
                "Mac",
                "環境變數"
            ]
        },
        {
            "id": "https://zonego.tw/2022/10/24/homebrew/",
            "url": "https://zonego.tw/2022/10/24/homebrew/",
            "title": "Mac 上的套件管理系統 Homebrew",
            "date_published": "2022-10-24T09:59:16.000Z",
            "content_html": "<span id=\"more\"></span>\n\n<h1 id=\"Homebrew\"><a href=\"#Homebrew\" class=\"headerlink\" title=\"Homebrew\"></a><a href=\"https://brew.sh/\">Homebrew</a></h1><p><a href=\"https://brew.sh/\">Homebrew</a> 是 Mac 上常用的第三方套件管理器，可以用來安裝 wget 等 Linux 常用但 Mac 沒有的程式。<br>雖然主要是面向 Mac 的程式，但 Linux 也可以用。</p>\n<h2 id=\"安裝\"><a href=\"#安裝\" class=\"headerlink\" title=\"安裝\"></a>安裝</h2><p>官方有提供安裝腳本</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Homebrew 安裝腳本</span><br>/bin/bash -c <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure>\n<blockquote>\n<p>不需要用 sudo 安裝</p>\n</blockquote>\n<p>裝完之後可以用 <code>brew help</code> 檢查是否安裝成功</p>\n<h2 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">xxxx@MacBook-Pro ~ % brew <span class=\"hljs-built_in\">help</span><br><br>Example usage:<br>  brew search TEXT|/REGEX/<br>  brew info [FORMULA|CASK...]<br>  brew install FORMULA|CASK...<br>  brew update<br>  brew upgrade [FORMULA|CASK...]<br>  brew uninstall FORMULA|CASK...<br>  brew list [FORMULA|CASK...]<br><br>Troubleshooting:<br>  brew config<br>  brew doctor<br>  brew install --verbose --debug FORMULA|CASK<br><br>Contributing:<br>  brew create URL [--no-fetch]<br>  brew edit [FORMULA|CASK...]<br><br>Further <span class=\"hljs-built_in\">help</span>:<br>  brew commands<br>  brew <span class=\"hljs-built_in\">help</span> [COMMAND]<br>  man brew<br>  https://docs.brew.sh<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 例如安裝 wget</span><br>brew install wget<br></code></pre></td></tr></table></figure>\n\n<p>其他更多用法參考官網 <a href=\"https://brew.sh/index_zh-tw\">https://brew.sh/index_zh-tw</a> (有中文)</p>\n<h2 id=\"安裝問題\"><a href=\"#安裝問題\" class=\"headerlink\" title=\"安裝問題\"></a>安裝問題</h2><p>如果下載途中意外中斷 <del>(例如 Mac 休眠自動斷線)</del> ，重跑時可能會出現下面問題</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">error: Not a valid ref: refs/remotes/origin/master<br>fatal: ambiguous argument <span class=\"hljs-string\">&#x27;refs/remotes/origin/master&#x27;</span>: unknown revision or path not <span class=\"hljs-keyword\">in</span> the working tree.<br></code></pre></td></tr></table></figure>\n\n<p>碰到這個問題，只要先把舊的刪掉再重裝就可以了</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Homebrew 刪除腳本</span><br>/bin/bash -c <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure>",
            "tags": [
                "Linux",
                "Mac",
                "套件管理"
            ]
        },
        {
            "id": "https://zonego.tw/2022/04/10/youtube-dl-login/",
            "url": "https://zonego.tw/2022/04/10/youtube-dl-login/",
            "title": "youtube-dl 登入並下載影片",
            "date_published": "2022-04-10T08:39:57.000Z",
            "content_html": "<span id=\"more\"></span>\n<h2 id=\"↩️回總教學文\"><a href=\"#↩️回總教學文\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2><h2 id=\"帳號密碼登入\"><a href=\"#帳號密碼登入\" class=\"headerlink\" title=\"帳號密碼登入\"></a>帳號密碼登入</h2><p>某些內容會指定必須要認證身分(登入)後，才能觀看<br>這種情況下， youtube-dl 有提供輸入簡單的帳號密碼的參數</p>\n<ul>\n<li><code>-u</code>, <code>--username</code> USERNAME 輸入帳號</li>\n<li><code>-p</code>, <code>--password</code> PASSWORD 輸入密碼</li>\n</ul>\n<p>範例</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --username <span class=\"hljs-string\">&quot;your_mail@gmail.com&quot;</span> --password <span class=\"hljs-string\">&quot;P@ssw0rd&quot;</span> <span class=\"hljs-string\">&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>目前只剩部分網站可以用這種方法登入。<br>Google 有更新過 youtube 帳號的取用安全性，只能用下面的 Cookie 方式登入。</p>\n<h2 id=\"使用-Cookie-登入\"><a href=\"#使用-Cookie-登入\" class=\"headerlink\" title=\"使用 Cookie 登入\"></a>使用 Cookie 登入</h2><p>Youtube-dl 可以使用 Netscape 格式的 cookie 檔案，讓伺服器端認定為已登入帳號的瀏覽器</p>\n<h3 id=\"匯出-cookie\"><a href=\"#匯出-cookie\" class=\"headerlink\" title=\"匯出 cookie\"></a>匯出 cookie</h3><p>我們可以用 EditThisCookie 幫我們匯出 Cookie</p>\n<p><a href=\"https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg\">EditThisCookie Chrome擴充商店</a></p>\n<p>安裝完後，進入 EditThisCookie 的設定</p>\n<p><img src=\"/images/content/youtube-dl_cookie_setting.jpg\"></p>\n<p>將輸出格式選擇 Netscape 格式<br><img src=\"/images/content/youtube-dl_cookie_setting2.jpg\"></p>\n<p>接著建立 cookie.txt 文字檔</p>\n<p>建立完後我們到 <a href=\"https://youtube.com/\">https://youtube.com</a><br>用 EditThisCookie 插件的匯出功能複製所有 cookie<br><img src=\"/images/content/youtube-dl_cookie.jpg\"></p>\n<p>將複製到的文字貼到 cookie.txt</p>\n<p>貼完後照前面的步驟，抓出 <a href=\"https://accounts.google.com/\">https://accounts.google.com</a> 的 cookie</p>\n<p>都完成後 cookie.txt 大概會長這個樣子</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><code class=\"hljs txt\"># Netscape HTTP Cookie File<br># http://curl.haxx.se/rfc/cookie_spec.html<br># This file was generated by Cookie Editor<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\t__Secure-1PAPISID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\t__Secure-1PSID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\t__Secure-3PAPISID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\t__Secure-3PSID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1681127908\t__Secure-3PSIDCC\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t1687764170\t_ga\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t1654529554\t_gcl_au\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t1712544730\tAPISID\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t1712544730\tHSID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1664713150\tLOGIN_INFO\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712663916\tPREF\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\tSAPISID\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t1712544730\tSID\tXXXXX.<br>.youtube.com    TRUE\t/\tFALSE\t1681127908\tSIDCC\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1712544730\tSSID\tXXXXX<br>.youtube.com    TRUE\t/\tTRUE\t1665142416\tVISITOR_INFO1_LIVE\tXXXXX<br>.youtube.com    TRUE\t/\tFALSE\t0\twide\t0<br>.youtube.com    TRUE\t/\tTRUE\t0\tYSC\tXXXXX<br><br># Netscape HTTP Cookie File<br># http://curl.haxx.se/rfc/cookie_spec.html<br># This file was generated by Cookie Editor<br>.google.com    TRUE\t/\tTRUE\t1712494597\t__Secure-1PAPISID\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1712494597\t__Secure-1PSID\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1712494597\t__Secure-3PAPISID\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1712494597\t__Secure-3PSID\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1681128005\t__Secure-3PSIDCC\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1652183330\t1P_JAR\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1663206405\tAEC\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1712494597\tAPISID\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1712494597\tHSID\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1665402835\tNID\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1651150185\tOGP\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1651150184\tOGPC\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1712494597\tSAPISID\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1712494597\tSID\tXXXXX<br>.google.com    TRUE\t/\tFALSE\t1681128005\tSIDCC\tXXXXX<br>.google.com    TRUE\t/\tTRUE\t1712494597\tSSID\tXXXXX<br>myaccount.google.com    FALSE\t/\tTRUE\t1712544729\t__Secure-OSID\tXXXXX<br>myaccount.google.com    FALSE\t/\tTRUE\t1712544729\tOSID\tXXXXX<br>myaccount.google.com    FALSE\t/\tTRUE\t1652064730\tOTZ\tXXXXX<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"重整格式\"><a href=\"#重整格式\" class=\"headerlink\" title=\"重整格式\"></a>重整格式</h3><p>接著我們將剛剛的 cookie.txt 用 curl 重新整理格式</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">curl -b cookie.txt --cookie-jar ytcookie.txt <span class=\"hljs-string\">&#x27;https://youtube.com&#x27;</span><br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>若是 Windows 的用戶，可以使用 Windows subsystem linux 2 (WSL2) 跑 Linux 的程式</p>\n</blockquote>\n<p>執行完後 cookie.txt 就可以刪了，我們只要 ytcookie.txt 這個檔案</p>\n<p>ytcookie.txt 要取甚麼名字都可以</p>\n<h3 id=\"使用-cookie-登入\"><a href=\"#使用-cookie-登入\" class=\"headerlink\" title=\"使用 cookie 登入\"></a>使用 cookie 登入</h3><p>用 <code>--cookie</code> 設定我們剛剛做好的 ytcookie.txt 就可以了</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --cookie ./ytcookie.txt <span class=\"hljs-string\">&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>接下來只要你沒在瀏覽器內登出帳號，ytcookie.txt 理論上就能一直使用</p>\n<p>當然，網站那邊可能也會紀錄是這個帳號在下載影片…</p>\n<h2 id=\"↩️回總教學文-1\"><a href=\"#↩️回總教學文-1\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2>",
            "tags": [
                "Windows",
                "Linux",
                "Mac"
            ]
        },
        {
            "id": "https://zonego.tw/2022/04/10/youtube-dl-quality/",
            "url": "https://zonego.tw/2022/04/10/youtube-dl-quality/",
            "title": "youtube-dl 指定下載影片畫質",
            "date_published": "2022-04-10T08:29:20.000Z",
            "content_html": "<span id=\"more\"></span>\n<h2 id=\"↩️回總教學文\"><a href=\"#↩️回總教學文\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2><h2 id=\"選擇畫質\"><a href=\"#選擇畫質\" class=\"headerlink\" title=\"選擇畫質\"></a>選擇畫質</h2><p>youtube-dl 預設會下載最高畫質的版本，不一定是 mp4 格式</p>\n<p>列出可下載的畫質:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl -F https://www.youtube.com/watch?v=dQw4w9WgXcQ<br>[youtube] dQw4w9WgXcQ: Downloading webpage<br>[info] Available formats <span class=\"hljs-keyword\">for</span> dQw4w9WgXcQ:<br>format code  extension  resolution note<br>249          webm       audio only tiny   46k , webm_dash container, opus @ 46k (48000Hz), 1.18MiB<br>250          webm       audio only tiny   61k , webm_dash container, opus @ 61k (48000Hz), 1.55MiB<br>140          m4a        audio only tiny  129k , m4a_dash container, mp4a.40.2@129k (44100Hz), 3.27MiB<br>251          webm       audio only tiny  129k , webm_dash container, opus @129k (48000Hz), 3.28MiB<br>394          mp4        256x144    144p   68k , mp4_dash container, av01.0.00M.08@  68k, 25fps, video only, 1.72MiB<br>160          mp4        256x144    144p   71k , mp4_dash container, avc1.4d400c@  71k, 25fps, video only, 1.81MiB<br>278          webm       256x144    144p   89k , webm_dash container, vp9@  89k, 25fps, video only, 2.27MiB<br>133          mp4        426x240    240p  117k , mp4_dash container, avc1.4d4015@ 117k, 25fps, video only, 2.96MiB<br>395          mp4        426x240    240p  134k , mp4_dash container, av01.0.00M.08@ 134k, 25fps, video only, 3.40MiB<br>242          webm       426x240    240p  159k , webm_dash container, vp9@ 159k, 25fps, video only, 4.02MiB<br>134          mp4        640x360    360p  219k , mp4_dash container, avc1.4d401e@ 219k, 25fps, video only, 5.55MiB<br>396          mp4        640x360    360p  262k , mp4_dash container, av01.0.01M.08@ 262k, 25fps, video only, 6.64MiB<br>243          webm       640x360    360p  273k , webm_dash container, vp9@ 273k, 25fps, video only, 6.92MiB<br>135          mp4        854x480    480p  337k , mp4_dash container, avc1.4d401e@ 337k, 25fps, video only, 8.52MiB<br>244          webm       854x480    480p  397k , webm_dash container, vp9@ 397k, 25fps, video only, 10.04MiB<br>397          mp4        854x480    480p  450k , mp4_dash container, av01.0.04M.08@ 450k, 25fps, video only, 11.38MiB<br>136          mp4        1280x720   720p  655k , mp4_dash container, avc1.4d401f@ 655k, 25fps, video only, 16.57MiB<br>247          webm       1280x720   720p  699k , webm_dash container, vp9@ 699k, 25fps, video only, 17.67MiB<br>398          mp4        1280x720   720p  858k , mp4_dash container, av01.0.05M.08@ 858k, 25fps, video only, 21.70MiB<br>399          mp4        1920x1080  1080p 1576k , mp4_dash container, av01.0.08M.08@1576k, 25fps, video only, 39.84MiB<br>137          mp4        1920x1080  1080p 3546k , mp4_dash container, avc1.640028@3546k, 25fps, video only, 89.64MiB<br>18           mp4        640x360    360p  630k , avc1.42001E, 25fps, mp4a.40.2 (44100Hz), 15.95MiB (best)<br></code></pre></td></tr></table></figure>\n\n<p>選好要下載的格式，把 format code 填入參數 -f 裡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl -f 137 https://www.youtube.com/watch?v=dQw4w9WgXcQ<br><br><span class=\"hljs-comment\"># 1920x1080 影片 + 129K音軌</span><br><span class=\"hljs-comment\"># 需要先裝 ffmpeg</span><br>youtube-dl -f <span class=\"hljs-string\">&quot;137+140&quot;</span> https://www.youtube.com/watch?v=dQw4w9WgXcQ<br></code></pre></td></tr></table></figure>\n\n<p>如果懶得查，也可以直接指定某種影片、音樂最高品質</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 下載 MP4 格式中最高畫質，或是其他格式中的最高畫質</span><br>youtube-dl -f <span class=\"hljs-string\">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best&#x27;</span> url<br><br><span class=\"hljs-comment\"># 指定最佳畫質，但不要高於 480p</span><br>youtube-dl -f <span class=\"hljs-string\">&#x27;bestvideo[height&lt;=480]+bestaudio/best[height&lt;=480]&#x27;</span> url<br><br><span class=\"hljs-comment\"># 下載檔案大小小於 50M 的最高畫質影片</span><br>youtube-dl -f <span class=\"hljs-string\">&#x27;best[filesize&lt;50M]&#x27;</span> url<br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>指定格式、品質時，若網站沒有會下載失敗</p>\n</blockquote>\n<h2 id=\"↩️回總教學文-1\"><a href=\"#↩️回總教學文-1\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2>",
            "tags": [
                "Windows",
                "Linux",
                "Mac"
            ]
        },
        {
            "id": "https://zonego.tw/2022/04/10/youtube-dl-subtitle/",
            "url": "https://zonego.tw/2022/04/10/youtube-dl-subtitle/",
            "title": "youtube-dl 下載字幕",
            "date_published": "2022-04-10T08:13:43.000Z",
            "content_html": "<span id=\"more\"></span>\n<h2 id=\"↩️回總教學文\"><a href=\"#↩️回總教學文\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2><h2 id=\"參數\"><a href=\"#參數\" class=\"headerlink\" title=\"參數\"></a>參數</h2><ul>\n<li><code>--list-subs</code>：列出可下載的所有字幕</li>\n<li><code>--write-sub</code>：儲存字幕</li>\n<li><code>--write-auto-sub</code>: 儲存自動翻譯的字幕，限 youtube 可以使用</li>\n<li><code>--embed-sub</code>：將字幕合併至影片中，需搭配 –write-sub 參數使用</li>\n<li><code>--all-subs</code>：下載所有字幕</li>\n<li><code>--sub-format</code>：下載的字幕格式，如果原影片沒有指定的字幕格式會去下載其他格式的字幕</li>\n<li><code>--sub-lang</code>：選擇要下載的字幕語言，用逗號分隔，例如：zh_TW,ja</li>\n<li><code>--convert-subs</code>：將下載的字幕轉換成其他格式，目前支援 srt|ass|vtt|lrc</li>\n</ul>\n<h2 id=\"列出所有可用字幕\"><a href=\"#列出所有可用字幕\" class=\"headerlink\" title=\"列出所有可用字幕\"></a>列出所有可用字幕</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --list-subs https://www.youtube.com/watch?v=AJYsA1jXf60<br>[youtube] AJYsA1jXf60: Downloading webpage<br>Available automatic captions <span class=\"hljs-keyword\">for</span> AJYsA1jXf60:<br>Language formats<br>tg       vtt, ttml, srv3, srv2, srv1<br>af       vtt, ttml, srv3, srv2, srv1<br>...<br>vi       vtt, ttml, srv3, srv2, srv1<br>zh-Hant  vtt, ttml, srv3, srv2, srv1<br>...<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"下載影片與字幕\"><a href=\"#下載影片與字幕\" class=\"headerlink\" title=\"下載影片與字幕\"></a>下載影片與字幕</h2><p>如果我要下載繁中以及英文的字幕，並另存成 .srt 格式</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --sub-lang zh-Hant,en --write-sub --convert-subs srt https://www.youtube.com/watch?v=AJYsA1jXf60<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"只下載字幕\"><a href=\"#只下載字幕\" class=\"headerlink\" title=\"只下載字幕\"></a>只下載字幕</h2><p>可以加 <code>--skip-download</code> 跳過下載影片</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --sub-lang zh-Hant,en --write-sub --convert-subs srt --skip-download https://www.youtube.com/watch?v=AJYsA1jXf60<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"下載自動翻譯字幕\"><a href=\"#下載自動翻譯字幕\" class=\"headerlink\" title=\"下載自動翻譯字幕\"></a>下載自動翻譯字幕</h2><p>下面指令為下載自動翻譯的繁體中文字幕</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl --write-auto-sub --sub-lang zh-Hant https://www.youtube.com/watch?v=R_BlrlAcOoQ<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"↩️回總教學文-1\"><a href=\"#↩️回總教學文-1\" class=\"headerlink\" title=\"↩️回總教學文\"></a><a href=\"/2021/12/19/youtube-dl/\">↩️回總教學文</a></h2>",
            "tags": [
                "Windows",
                "Linux",
                "Mac"
            ]
        },
        {
            "id": "https://zonego.tw/2022/03/15/SpeedTest/",
            "url": "https://zonego.tw/2022/03/15/SpeedTest/",
            "title": "OpenSpeedTest 純HTML5的內網測速工具",
            "date_published": "2022-03-15T10:46:58.000Z",
            "content_html": "<p>大家平常要測網路速度都會想到 Ookla 的 <a href=\"https://speedtest.net/\">Speedtest.net</a></p>\n<p>在簡單的網路環境內，Speedtest 就可以完成測速的工作</p>\n<p>但如果我要測試內網速度呢?</p>\n<span id=\"more\"></span>\n\n<h2 id=\"網路環境\"><a href=\"#網路環境\" class=\"headerlink\" title=\"網路環境\"></a>網路環境</h2><p>在測試之前，我們先了解網路速度到底是在測甚麼</p>\n<p>一般家用的網路架構大概如圖，由中華電信這些電信商(ISP) 提供網際網路連線(雲圖示)</p>\n<p>之後在你家裝一台路由器，讓家裡的設備可以透過它上網</p>\n<p><img src=\"/images/content/network-simple.png\"></p>\n<p>我們平常用的 Speedtest.net 其實就是在測家裡到網際網路的連線速度</p>\n<p>只是因為網路架構相當簡單，所以電腦、手機等終端的連線速度就等於連網際網路的速度</p>\n<hr>\n<p>若是有在玩自架 homelab 的朋友網路架構絕對沒那麼簡單，可能比較像這張圖</p>\n<p><img src=\"/images/content/network-complex.png\"></p>\n<p>在接到網際網路(後面以外網代稱)之前</p>\n<p>接到路由器 Router 架設區域網路(後面以內網代稱)</p>\n<p>然後連交換機 Switch 去串接各終端設備和伺服器、監視器等</p>\n<p>所以如果我們要測試內網裡面電腦連伺服器的速度 如下圖</p>\n<p><img src=\"/images/content/network-local.png\"></p>\n<p>Speedtest.net 當然就測不出來了</p>\n<h2 id=\"OpenSpeedTest\"><a href=\"#OpenSpeedTest\" class=\"headerlink\" title=\"OpenSpeedTest\"></a>OpenSpeedTest</h2><p>講了這麼多前提，主要就是要紹可以自己架設的 OpenSpeedTest</p>\n<p><a href=\"https://openspeedtest.com/\">官網</a></p>\n<p><a href=\"https://hub.docker.com/r/openspeedtest/latest\">DockerHub</a></p>\n<p>只要把它架在自己的伺服器上，就可以像在用 Speedtest.net 一樣測試內網的網速🎉</p>\n<p>這邊是官方那邊的 DEMO (沒錯它可以直接嵌在你的網頁內)</p>\n<div style=\"text-align:right;\"><div style=\"min-height:360px;\"><div style=\"width:100%;height:0;padding-bottom:50%;position:relative;\"><iframe style=\"border:none;position:absolute;top:0;left:0;width:100%;height:100%;min-height:360px;border:none;overflow:hidden !important;\" src=\"//openspeedtest.com/Get-widget.php\"></iframe></div></div>Provided by  <a href=\"http://openspeedtest.com\">OpenSpeedtest.com</a></div>\n\n\n<h2 id=\"安裝-OpenSpeedTest\"><a href=\"#安裝-OpenSpeedTest\" class=\"headerlink\" title=\"安裝 OpenSpeedTest\"></a>安裝 OpenSpeedTest</h2><p>OpenSpeedTest 大致分為3種安裝方式</p>\n<ol>\n<li>安裝程式包</li>\n<li>Docker</li>\n<li>從原始碼手動架設</li>\n</ol>\n<h3 id=\"程式包\"><a href=\"#程式包\" class=\"headerlink\" title=\"程式包\"></a>程式包</h3><p>官方打包好的安裝檔在這邊<a href=\"https://openspeedtest.com/speed-testing-application-for-your-website.php#Option-3\">下載頁</a>可以找到</p>\n<p>支援主流的作業系統 Windows, Mac, Linux 之外 連 Android 跟 IOS 都有 <del>用來測熱點性能?</del></p>\n<p>點 Start Server 後就可以連 👉 給的的網址測速了</p>\n<p><img src=\"/images/content/OSTV2-SS.png\"></p>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">docker run --restart=unless-stopped --name openspeedtest -d -p 3000:3000 -p 3001:3001 openspeedtest/latest<br></code></pre></td></tr></table></figure>\n\n<p>啟動後連 <a href=\"http://your-ip:3000/\">http://YOUR-IP:3000</a> 或 <a href=\"https://your-ip:3001/\">https://YOUR-IP:3001</a> 測速</p>\n<h3 id=\"原始碼安裝\"><a href=\"#原始碼安裝\" class=\"headerlink\" title=\"原始碼安裝\"></a>原始碼安裝</h3><p>首先到 <a href=\"https://github.com/openspeedtest/Speed-Test\">Github</a> 下載或 clone 原始碼</p>\n<p>準備好 Nginx ，套用<a href=\"https://github.com/openspeedtest/Nginx-Configuration\">這邊</a></p>\n<p>然後將下載好的OpenSpeedTest原始碼，放到 Nginx 的網頁資料夾就可以用了</p>\n<blockquote>\n<p>要長期使用，推薦還是用 Docker 安裝，簡單省事</p>\n</blockquote>\n",
            "tags": [
                "Self-Hosting",
                "網路",
                "Windows",
                "Linux",
                "Mac"
            ]
        },
        {
            "id": "https://zonego.tw/2021/12/19/youtube-dl/",
            "url": "https://zonego.tw/2021/12/19/youtube-dl/",
            "title": "用指令下載影片吧 youtube-dl",
            "date_published": "2021-12-19T08:45:13.000Z",
            "content_html": "<p>你想下載 Youtube、Facebook 或是 twitter 上的影片嗎?</p>\n<span id=\"more\"></span>\n<p>雖然名稱叫 youtube 下載，但 <a href=\"https://ytdl-org.github.io/youtube-dl/supportedsites.html\">youtube-dl支援的網站</a> 多達一千多個</p>\n<p>只要到 <a href=\"https://ytdl-org.github.io/youtube-dl/index.html\">這裡</a> 就能下載</p>\n<p>對於初學者會卡的地方，大概就只有不熟悉指令界面而已 (可能還有youtube的限速)</p>\n<hr>\n<p>甚麼?你說打指令你不會用?</p>\n<p>那你可以改用 <a href=\"/2021/12/10/youtube-dlg/\"><strong>youtube-dl gui</strong></a> 或是 <a href=\"/2023/01/19/hitomi-downloader/\">Hitomi Downloader</a></p>\n<h2 id=\"詳細教學\"><a href=\"#詳細教學\" class=\"headerlink\" title=\"詳細教學\"></a>詳細教學</h2><ul>\n<li><a href=\"/2022/04/10/youtube-dl-quality/\">指定下載畫質</a></li>\n<li><a href=\"/2022/04/10/youtube-dl-subtitle/\">下載字幕</a></li>\n<li><a href=\"/2022/04/10/youtube-dl-login/\">登入並下載影片</a></li>\n</ul>\n<h2 id=\"安裝\"><a href=\"#安裝\" class=\"headerlink\" title=\"安裝\"></a>安裝</h2><h3 id=\"Windows-版本\"><a href=\"#Windows-版本\" class=\"headerlink\" title=\"Windows 版本\"></a>Windows 版本</h3><p>Windows 需要 Microsoft Visual C++ 2010 Service Pack 1 Redistributable Package (x86)</p>\n<p><a href=\"https://download.microsoft.com/download/1/6/5/165255E7-1014-4D0A-B094-B6A430A6BFFC/vcredist_x86.exe\">https://download.microsoft.com/download/1/6/5/165255E7-1014-4D0A-B094-B6A430A6BFFC/vcredist_x86.exe</a></p>\n<p>套件連結至微軟網站，請放心服用</p>\n<p>安裝後下載 Windows.exe 搬到預設應用程式的位置</p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"code\"><pre><code class=\"hljs gcode\"><span class=\"hljs-meta\">%</span>USERPROFILE<span class=\"hljs-meta\">%</span>\\AppData\\Local\\Microsoft\\Wi<span class=\"hljs-symbol\">ndowsApps</span><br></code></pre></td></tr></table></figure>\n\n<p>或是參考這篇 <a href=\"/2022/01/07/windows11-path/\">Windows 11 環境變數及 Path 設定</a> 設定路徑(Path)環境變數</p>\n<p>使用 CMD, Powershell 或 windows terminal 就可以直接使用</p>\n<hr>\n<h3 id=\"Linux-Mac-版本\"><a href=\"#Linux-Mac-版本\" class=\"headerlink\" title=\"Linux, Mac 版本\"></a>Linux, Mac 版本</h3><p>Linux 及 Mac 需要 Python 2.6, 2.7, 或 3.2+ 以上的版本才能執行</p>\n<p>可以到 <a href=\"https://www.python.org/\">Python 官網</a> 下載</p>\n<p>透過網路下載 youtube-dl</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">sudo curl -L https://yt-dl.org/downloads/latest/youtube-dl -o /usr/local/bin/youtube-dl<br><br>sudo <span class=\"hljs-built_in\">chmod</span> a+rx /usr/local/bin/youtube-dl<br></code></pre></td></tr></table></figure>\n\n<p>透過 python 安裝</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">sudo pip install --upgrade youtube_dl<br></code></pre></td></tr></table></figure>\n<p>Mac 可以透過 <a href=\"https://zonego.tw/2022/10/24/homebrew/\">Homebrew</a> 安裝</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">brew install ffmpeg youtube-dl<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"更新\"><a href=\"#更新\" class=\"headerlink\" title=\"更新\"></a>更新</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\">youtube-dl -U<br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Linux 若是用套件管理器(例如 man, apt)安裝，就用套件管理器更新</p>\n</blockquote>\n<h2 id=\"下載影片\"><a href=\"#下載影片\" class=\"headerlink\" title=\"下載影片\"></a>下載影片</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Windows</span><br>youtube-dl.exe <span class=\"hljs-string\">&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;</span><br><br><span class=\"hljs-comment\"># Linux</span><br>youtube-dl <span class=\"hljs-string\">&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>使用指令介面不像視窗版是點開後才給設定或操作，<br>大多都是先把設定參數都一起寫在啟動指令中</p>\n<blockquote>\n<p>用 Ctrl + C 可以終止執行中的指令</p>\n</blockquote>\n<blockquote>\n<p>如果網址內有特殊符號，可以用字串標記 “URL”</p>\n</blockquote>\n<p>通常指令介面的程式會保留 <code>-h</code> <code>--help</code> 做使用說明</p>\n<p>如果不會操作，可以參考使用說明</p>\n<h2 id=\"下載播放清單\"><a href=\"#下載播放清單\" class=\"headerlink\" title=\"下載播放清單\"></a>下載播放清單</h2><p>下載撥放清單跟下載影片一樣，把網址換成撥放清單</p>\n<h3 id=\"指定播放清單下載範圍\"><a href=\"#指定播放清單下載範圍\" class=\"headerlink\" title=\"指定播放清單下載範圍\"></a>指定播放清單下載範圍</h3><ul>\n<li><code>--playlist-start</code>：播放清單起始位置</li>\n<li><code>--playlist-end</code>：播放清單結束位置</li>\n<li><code>--playlist-items</code>：指定範圍，逗號分隔，例如：1,2,5,8, 1-3,7,10-13</li>\n</ul>\n<h2 id=\"只下載音樂\"><a href=\"#只下載音樂\" class=\"headerlink\" title=\"只下載音樂\"></a>只下載音樂</h2><p>用 <code>-x</code> 只輸出音軌，<code>--audio-format</code> 指定輸出檔的格式</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><code class=\"hljs stylus\">youtube-<span class=\"hljs-selector-tag\">dl</span> -x <span class=\"hljs-attr\">--audio-format</span> mp3 https:<span class=\"hljs-comment\">//www.youtube.com/watch?v=WI-EMzrUSP4</span><br></code></pre></td></tr></table></figure>\n\n<p>其他參數：</p>\n<ul>\n<li><code>--embed-thumbnail</code>：嵌入影片縮圖(僅限 mp3 和 m4a&#x2F;mp4)</li>\n<li><code>--add-metadata</code>：加入影片資訊</li>\n</ul>\n<h2 id=\"參考來源\"><a href=\"#參考來源\" class=\"headerlink\" title=\"參考來源\"></a>參考來源</h2><p><a href=\"https://github.com/ytdl-org/youtube-dl/blob/master/README.md\">https://github.com/ytdl-org/youtube-dl/blob/master/README.md</a><br><a href=\"https://junyussh.github.io/p/use-youtube-dl-to-download-videos/\">https://junyussh.github.io/p/use-youtube-dl-to-download-videos/</a></p>\n",
            "tags": [
                "Windows",
                "Linux",
                "Mac"
            ]
        },
        {
            "id": "https://zonego.tw/2021/12/06/unsplash-wallpapers/",
            "url": "https://zonego.tw/2021/12/06/unsplash-wallpapers/",
            "title": "自動換桌布 unsplash-wallpapers",
            "date_published": "2021-12-06T11:05:56.000Z",
            "content_html": "<p>自動換桌布的方案有很多</p>\n<p>在 Windows 上比較有名的是 Wallpaper Engine，除了一般的圖片之外，還可以將影片、靜態網頁做成桌布</p>\n<p>跨平台的方案則有微軟的 bing wallpaper</p>\n<span id=\"more\"></span>\n\n<link rel=\"stylesheet\" href=\"/image.css\">\n\n<h2 id=\"Unsplash\"><a href=\"#Unsplash\" class=\"headerlink\" title=\"Unsplash\"></a>Unsplash</h2><p><a href=\"https://unsplash.com/\">Unsplash</a> 是一個免費的相片共享網站<br>攝影師可以將相片上傳到 Unsplash，相片編輯者們會對使用者上傳的相片進行整理<br>Unsplash 使用了較為自由的著作權許可條款，這讓 Unsplash 上的相片經常在文章配圖中出現</p>\n<p>想當然，官方也推出像 bing wallpaper 一樣的自動桌布工具<a href=\"https://unsplash.com/apps\">在這裡</a><br>但只有 iOS MAC AppleTV 以及 chrome 能使用</p>\n<p>但PC平台才是大神開發者的發源地，這種小問題已經有人解決了</p>\n<h2 id=\"unsplash-wallpapers\"><a href=\"#unsplash-wallpapers\" class=\"headerlink\" title=\"unsplash-wallpapers\"></a>unsplash-wallpapers</h2><p>這次要介紹的就是基於<a href=\"https://unsplash.com/\">Unsplash</a>圖庫的開源小工具 unsplash-wallpapers</p>\n<p><a href=\"https://github.com/soroushchehresa/unsplash-wallpapers\"><i class=\"nexmoefont icon-github\"></i> Github</a></p>\n<h3 id=\"特點\"><a href=\"#特點\" class=\"headerlink\" title=\"特點\"></a>特點</h3><ul>\n<li>支援 Windows MAC Linux 系統</li>\n<li>紀錄更換過的歷史桌布.</li>\n<li>可設定自動更換週期，每小時、每天、每周、手動</li>\n<li>下載桌布原圖</li>\n</ul>\n<h3 id=\"範例\"><a href=\"#範例\" class=\"headerlink\" title=\"範例\"></a>範例</h3><p><div class=\"gallery-pro\" style=\"column-width:200px;\"><div><img alt=\"MAC\" src=\"/images/content/unsplash-wallpapers-mac.gif\" data-caption=\"MAC\" data-fancybox=\"gallery\" loading=\"lazy\"></div>\n<div><img alt=\"Windows\" src=\"/images/content/unsplash-wallpapers-windows.gif\" data-caption=\"Windows\" data-fancybox=\"gallery\" loading=\"lazy\"></div>\n<div><img alt=\"Linux\" src=\"/images/content/unsplash-wallpapers-linux.gif\" data-caption=\"Linux\" data-fancybox=\"gallery\" loading=\"lazy\"></div>\n            </div></p>\n\n<h3 id=\"下載\"><a href=\"#下載\" class=\"headerlink\" title=\"下載\"></a>下載</h3><p>下載點請到 <a href=\"https://github.com/soroushchehresa/unsplash-wallpapers/releases\"><i class=\"nexmoefont icon-github\"></i> Github Release</a></p>\n<p>依據你的系統下載定應安裝檔<br><img onerror=\"imgOnError(this);\" data-fancybox=\"gallery\" src=\"/images/content/unsplash-wallpaper-release.jpg\" alt=\"release\" data-caption=\"release\" loading=\"lazy\"></p>\n<p>MAC 系統下載 <code>.dmg</code><br>Windows 下載 <code>.exe</code><br>Redhat、Centos 下載 <code>.rpm</code><br>debain、Ubuntu 下載 <code>.deb</code><br>要自行編譯就下載 Sorce code</p>\n<hr>\n<p>裝完就可以享受定時自動換桌布啦🎉</p>\n",
            "tags": [
                "Windows",
                "Linux",
                "Mac",
                "桌布"
            ]
        }
    ]
}